<div class="container">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <p>
        <h2><%= @question.title %></h2>
      </p>
       <%= render "shared/message" %>
       <div class= "questions">
        <%  unless user_signed_in? %>
          <div class="question clearfix">
            <span class="upvote-arrow"></span>
            <span class="upvote-count"><%= @question.votes.count %></span>
            <span><%= markdown(@question.body) %></span>
              <%= render partial: "comments/comments", locals: {commentable: @question} %>
          </div>
        <% else %>
          <% vote = Vote.voted_by?(current_user,  @question) %>
             <% if vote %>
                <%= link_to question_vote_path(@question, vote), method: :delete, class: "question-upvote upvote-active" do %>
                  <span class="upvote-arrow"></span>
                  <span class="upvote-count"><%= @question.votes.count %></span>
                <% end %>
             <% else %>
                <%= link_to question_votes_path(@question), method: :post, class: "question-upvote" do %>
                  <span class="upvote-arrow"></span>
                  <span class="upvote-count"><%= @question.votes.count %></span>
                <% end %>
             <% end %>
                 <span><%= markdown(@question.body) %></span>
                 <%= render partial: "comments/comments", locals: {commentable: @question} %>
                 <%= render partial: "comments/form", locals: {commentable: @question} %>
        <% end %>
       </div>
    </div>
  </div>
</div>
